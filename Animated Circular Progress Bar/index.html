<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div class="card">
        <div class="rating">
            <h2><span class="counter" data-target="90">90</span><sub>%</sub></h2>
            <div class="block"></div>
        </div>
    </div>

    <script>
        const rating = document.getElementsByClassName("rating")[0];
        const block = document.getElementsByClassName("block");

        for(let i = 1; i < 100; i++){
            rating.innerHTML += "<div class='block'></div>"
            block[i].style.transform = "rotate("+ 3.6 * i + "deg)"
            block[i].style.animationDelay = `${i/40}s`
        }

        const counter = document.querySelector(".counter")
        counter.innerHTML = 0;

        const target = +counter.getAttribute('data-target')

        console.log(target)
        console.log(+counter.innerHTML)

        const NumberCounter = () => {
            const value = +counter.innerHTML
            if(value < target){
                counter.innerHTML = Math.ceil(value+1)
                setTimeout(() => {
                    NumberCounter()
                }, 25)
            }
        }
        NumberCounter()
    </script>
</body>
</html>
